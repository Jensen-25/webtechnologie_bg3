<!-- Hierin moet een link naar de payment page als iemand op betalen drukt -->

<head>
  <!-- Link naar de CSS sheet -->
  <link rel="stylesheet" href="../Homepage_stylesheet.css">

  <title> Shoppingcart Page </title>
  
  <!-- Navigatie bar -->
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li><a href="../Products_folder/main_products_page.html">Products</a></li>
    <li><a href="../Login_folder/Login_screen.html">Login</a></li>
    <li><a href="../Login_folder/registratiescherm.html">Registration</a></li>
    <li><a href="../FAQ/FAQ.html">FAQ</a></li>
    <li><a href="../Shoppingcart_folder/shoppingcart_page.html">Shopping Cart</a></li>
  </ul>

</head>

<body>

  <h1> Shopping Cart </h1>

  <script>
    // Test array of product data
    const products = [
        { OrderID: 1, ProductID: 1, ProductAmount: 1, ProductPrice $1.99},
        { OrderID: 1, ProductID: 3, ProductAmount: 2, ProductPrice $1.99},
        { OrderID: 1, ProductID: 5, ProductAmount: 3, ProductPrice $1.99},
        { OrderID: 1, ProductID: 7, ProductAmount: 1, ProductPrice $1.99},
        { OrderID: 1, ProductID: 9, ProductAmount: 1, ProductPrice $1.99},
        { OrderID: 1, ProductID: 10, ProductAmount: 1, ProductPrice $1.99}
    ];

    // Function to fetch and display all products on the shopping_cart page
    function showAllProducts() {

        // Use fetch API to get all product details from the server
        fetch('get_all_orders.php') 
            .then(response => response.json())
            .then(data => {

                // Update the product grid with the fetched product details
                const productGrid = document.getElementById('product-grid');
                productGrid.innerHTML = '';

                data.forEach(product => {
                    // Create a figure with class product
                    const productFigure = document.createElement('figure');
                    productFigure.className = 'product';
                    productFigure.setAttribute('data-productid', product.ProductID);

                    // Create the image for the grid
                    const imageElement = document.createElement('img');
                    imageElement.src = product.ProductImage;
                    imageElement.alt = `${product.ProductName} Image`;

                    // Create the caption for the figure
                    const figCaption = document.createElement('figcaption');

                    // Create the product name for the grid
                    const headingElement = document.createElement('h3');
                    headingElement.textContent = product.ProductName;

                    // Create the product price for the grid
                    const priceElement = document.createElement('p');
                    priceElement.textContent = `Price: $${product.ProductPrice}`;

                    // Add all the elements to the figure and figure to the grid
                    figCaption.appendChild(headingElement);
                    figCaption.appendChild(priceElement);

                    productFigure.appendChild(imageElement);
                    productFigure.appendChild(figCaption);

                    productGrid.appendChild(productFigure);

                    // Add an event listener to each product figure
                    productFigure.addEventListener('click', function () {
                        const productId = this.getAttribute('data-productid');
                        // Redirect to the product details page with the product ID
                        window.location.href = `product-details.html?id=${productId}`;
                    });
                });
            })
            .catch(error => console.error('Error:', error));
    }
    // Call the function when the page loads
    window.onload = showAllProducts;
</script>

</body>

